/* video.js-soundcloud v1.0.0_25-02-2015 */
var addScriptTag;addScriptTag=function(e){var d,f;return f=document.createElement("script"),f.src=e,d=document.getElementsByTagName("head")[0],d.parentNode.appendChild(f)},videojs.Soundcloud=videojs.MediaTechController.extend({init:function(f,e,h){var g=this;return videojs.MediaTechController.call(this,f,e,h),this.volumeVal=0,this.durationMilliseconds=1,this.currentPositionSeconds=0,this.loadPercentageDecimal=0,this.paused_=!0,this.player_=f,this.soundcloudSource=null,"string"==typeof e.source?this.soundcloudSource=e.source:"object"==typeof e.source&&(this.soundcloudSource=e.source.src),this.scWidgetId=""+this.player_.id()+"_soundcloud_api_"+Date.now(),this.scWidgetElement=videojs.Component.prototype.createEl("iframe",{id:this.scWidgetId,className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0,webkitAllowFullScreen:"true",mozallowfullscreen:"true",allowFullScreen:"true",src:"https://w.soundcloud.com/player/?url="+this.soundcloudSource}),this.scWidgetElement.style.visibility="hidden",this.player_.el().appendChild(this.scWidgetElement),this.player_.el().classList.add("backgroundContainer"),this.player_.options().autoplay&&(this.playOnReady=!0),this.readyToPlay=!1,this.ready(function(){return g.readyToPlay=!0,g.player_.trigger("loadstart")}),this.loadSoundcloud()}}),videojs.Soundcloud.prototype.dispose=function(){return this.scWidgetElement&&this.scWidgetElement.parentNode.removeChild(this.scWidgetElement),this.player_.el().classList.remove("backgroundContainer"),this.player_.el().style.backgroundImage="",this.soundcloudPlayer?delete this.soundcloudPlayer:void 0},videojs.Soundcloud.prototype.load=function(){return this.loadSoundcloud()},videojs.Soundcloud.prototype.src=function(d){var c=this;return d?this.soundcloudPlayer.load(d,{callback:function(){return c.soundcloudSource=d,c.onReady(),c.player_.trigger("newSource")}}):this.soundcloudSource},videojs.Soundcloud.prototype.updatePoster=function(){var e,d=this;try{return this.soundcloudPlayer.getSounds(function(b){var h,g;if(1===b.length&&(g=b[0],g.artwork_url)){return h=g.artwork_url.replace("large.jpg","t500x500.jpg"),d.player_.el().style.backgroundImage="url('"+h+"')"}})}catch(f){return void (e=f)}},videojs.Soundcloud.prototype.play=function(){return this.readyToPlay?this.soundcloudPlayer.play():this.playOnReady=!0},videojs.Soundcloud.prototype.toggle=function(){return this.player_.paused()?this.player_.play():this.player_.pause()},videojs.Soundcloud.prototype.pause=function(){return this.soundcloudPlayer.pause()},videojs.Soundcloud.prototype.paused=function(){return this.paused_},videojs.Soundcloud.prototype.currentTime=function(){return this.currentPositionSeconds},videojs.Soundcloud.prototype.setCurrentTime=function(b){return this.soundcloudPlayer.seekTo(1000*b),this.player_.trigger("seeking")},videojs.Soundcloud.prototype.duration=function(){return this.durationMilliseconds/1000},videojs.Soundcloud.prototype.buffered=function(){var b;return b=this.duration()*this.loadPercentageDecimal,videojs.createTimeRange(0,b)},videojs.Soundcloud.prototype.volume=function(){return this.volumeVal},videojs.Soundcloud.prototype.setVolume=function(b){return b!==this.volumeVal?(this.volumeVal=b,this.soundcloudPlayer.setVolume(this.volumeVal),this.player_.trigger("volumechange")):void 0},videojs.Soundcloud.prototype.muted=function(){return 0===this.volumeVal},videojs.Soundcloud.prototype.setMuted=function(b){return b?(this.unmuteVolume=this.volumeVal,this.setVolume(0)):this.setVolume(this.unmuteVolume)},videojs.Soundcloud.isSupported=function(){return !0},videojs.Soundcloud.prototype.supportsFullScreen=function(){return !0},videojs.Soundcloud.prototype.enterFullScreen=function(){return this.scWidgetElement.webkitEnterFullScreen()},videojs.Soundcloud.prototype.exitFullScreen=function(){return this.scWidgetElement.webkitExitFullScreen()},videojs.Soundcloud.prototype.isSoundcloudUrl=function(b){return/^(https?:\/\/)?(www.)?soundcloud.com\//i.test(b)},videojs.Soundcloud.prototype.canPlaySource=videojs.Soundcloud.canPlaySource=function(d){var c;return"string"==typeof d?videojs.Soundcloud.prototype.isSoundcloudUrl(d):c="audio/soundcloud"===d.type||videojs.Soundcloud.prototype.isSoundcloudUrl(d.src)},videojs.Soundcloud.prototype.loadSoundcloud=function(){var d,c=this;return videojs.Soundcloud.apiReady&&!this.soundcloudPlayer?this.initWidget():videojs.Soundcloud.apiLoading?void 0:(d=function(){return"undefined"!=typeof window.SC?(videojs.Soundcloud.apiReady=!0,window.clearInterval(videojs.Soundcloud.intervalId),void c.initWidget()):void 0},addScriptTag("http://w.soundcloud.com/player/api.js"),videojs.Soundcloud.apiLoading=!0,videojs.Soundcloud.intervalId=window.setInterval(d,10))},videojs.Soundcloud.prototype.initWidget=function(){var b=this;return this.soundcloudPlayer=SC.Widget(this.scWidgetId),this.soundcloudPlayer.bind(SC.Widget.Events.READY,function(){return b.onReady()}),this.soundcloudPlayer.bind(SC.Widget.Events.PLAY_PROGRESS,function(a){return b.onPlayProgress(a.relativePosition)}),this.soundcloudPlayer.bind(SC.Widget.Events.LOAD_PROGRESS,function(a){return b.onLoadProgress(a.loadedProgress)}),this.soundcloudPlayer.bind(SC.Widget.Events.ERROR,function(){return b.onError()}),this.soundcloudPlayer.bind(SC.Widget.Events.PLAY,function(){return b.onPlay()}),this.soundcloudPlayer.bind(SC.Widget.Events.PAUSE,function(){return b.onPause()}),this.soundcloudPlayer.bind(SC.Widget.Events.FINISH,function(){return b.onFinished()}),this.soundcloudPlayer.bind(SC.Widget.Events.SEEK,function(a){return b.onSeek(a.currentPosition)}),this.soundcloudSource?void 0:this.triggerReady()},videojs.Soundcloud.prototype.onReady=function(){var e,d=this;this.soundcloudPlayer.getVolume(function(b){return d.unmuteVolume=b,d.setVolume(d.unmuteVolume)});try{this.soundcloudPlayer.getDuration(function(b){return d.durationMilliseconds=b,d.player_.trigger("durationchange"),d.player_.trigger("canplay")})}catch(f){e=f}this.updatePoster(),this.triggerReady();try{this.playOnReady&&this.soundcloudPlayer.play()}catch(f){e=f}return void 0},videojs.Soundcloud.prototype.onPlayProgress=function(b){return this.currentPositionSeconds=this.durationMilliseconds*b/1000,this.player_.trigger("playing")},videojs.Soundcloud.prototype.onLoadProgress=function(b){return this.loadPercentageDecimal=b,this.player_.trigger("timeupdate")},videojs.Soundcloud.prototype.onSeek=function(b){return this.currentPositionSeconds=b/1000,this.player_.trigger("seeked")},videojs.Soundcloud.prototype.onPlay=function(){return this.paused_=!1,this.playing=!this.paused_,this.player_.trigger("play")},videojs.Soundcloud.prototype.onPause=function(){return this.paused_=!0,this.playing=!this.paused_,this.player_.trigger("pause")},videojs.Soundcloud.prototype.onFinished=function(){return this.paused_=!1,this.playing=!this.paused_,this.player_.trigger("ended")},videojs.Soundcloud.prototype.onError=function(){return this.player_.error("There was a soundcloud error. Check the view.")};